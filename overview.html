

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta content="Overivew of MR.Diffusion" name="description" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Overview &mdash; mrdiffusion 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="mrdiffusion 1.0 documentation" href="index.html"/>
        <link rel="next" title="Tutorial" href="tutorial.html"/>
        <link rel="prev" title="Welcome to MR.Diffusion’s documentation!" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> mrdiffusion
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#system-requirement">System requirement</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-uninstall">Install/Uninstall</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#for-ms-windows-os">For MS Windows OS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#key-functions-of-the-software">Key functions of the software</a></li>
<li class="toctree-l2"><a class="reference internal" href="#eddy-and-motion-correction">Eddy and motion correction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#brain-stripping">Brain stripping</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reconstruction-of-the-diffusion-model">Reconstruction of the diffusion model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dti-reconstruction">DTI reconstruction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spfi-reconstruction">SPFI reconstruction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#csd-reconstruction">CSD reconstruction</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#fiber-tracking-and-attributes-extraction">Fiber tracking and attributes extraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#visualization-for-various-images">Visualization for various images</a></li>
<li class="toctree-l2"><a class="reference internal" href="#several-useful-tools">Several useful tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#image-registration">Image registration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#need-further-help">Need further help?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#image-calculation-and-roi-generation">Image calculation and ROI generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fiber-manipulation">Fiber manipulation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#data-format">Data format</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#input">Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="#output">Output</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#to-do-list">TO-DO list</a></li>
<li class="toctree-l2"><a class="reference internal" href="#suggestions-feedback">Suggestions/Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reference">Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">mrdiffusion</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Overview</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/overview.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h1>
<p>MR. Diffusion is a light one-stop cross-platform solution to dMRI data analysis. The package delivers a complete pipeline from data format conversion to preprocessing, from local reconstruction to fiber tracking, and from fiber statistics to visualization. MR. Diffusion was developed as a cross-platform framework, using ITK <a class="footnote-reference" href="#id9" id="id1">[1]</a> for computation, VTK <a class="footnote-reference" href="#id10" id="id2">[2]</a> for visualization, and Qt for GUI design. Both GPU and CPU computing were implemented for visualization to achieve high frame-rate, for rendering complex scene like whole brain tractographs in particular. The project was managed using the compiler-independent CMake <a class="footnote-reference" href="#id11" id="id3">[3]</a>, which is compatible with gcc/g++ and MS Visual Studio, etc. Well-established algorithms, such as the DICOM conversion tool dcm2nii by Chris Rorden <a class="footnote-reference" href="#id12" id="id4">[4]</a> and the constrained spherical deconvolution (CSD) for HARDI reconstruction in MRtrix <a class="footnote-reference" href="#id13" id="id5">[5]</a>, were adopted with improved interface and user experience.</p>
<div class="section" id="system-requirement">
<h2>System requirement<a class="headerlink" href="#system-requirement" title="Permalink to this headline">¶</a></h2>
<p>Basically this software can run in any system, including 32/64-bit MS Windows/Linux OS, although currently we only tested and released the binary packages for Windows/Linux OS. The software is developed based on C/C++, and some platform independent packages, including ITK, VTK, and OpenCV, etc. However, for high-performance data processing and visualization, we recommend using 64-bit OS with multi-core CPU and standalone video card.</p>
</div>
<div class="section" id="install-uninstall">
<h2>Install/Uninstall<a class="headerlink" href="#install-uninstall" title="Permalink to this headline">¶</a></h2>
<p>Please download the package from <a class="reference external" href="http://brainnetome.org/en/brat-dMRI">http://brainnetome.org/en/brat-dMRI</a> , according to your own OS. Unpack the files to where you want and you can enjoy the software. The 64-bit OS is recommended for high-performance data processing. Each installation package is completely standalone so you DO NOT need to install ANY other dependency to run the software. If you encounter any dependency problem please DO <a class="reference external" href="mailto:mr&#46;diffusion&#37;&#52;&#48;nlpr&#46;ia&#46;ac&#46;cn">contact us</a>.</p>
<div class="section" id="for-ms-windows-os">
<h3>For MS Windows OS<a class="headerlink" href="#for-ms-windows-os" title="Permalink to this headline">¶</a></h3>
<p>Double click the <code class="docutils literal"><span class="pre">MRDiffusionSetup-vxxx.exe</span></code> file and then choose the destination path according to the wizard. You may need to provide administrator permission if you want to put the files into the system path. Similarly, to uninstall you only need to hit the menu of “uninstall” in the MS Windows start menu.
For Linux OS <code class="code docutils literal"><span class="pre">Glibc&gt;=2.2</span></code> is required. Download the <code class="docutils literal"><span class="pre">MRDiffusionSetup-vxxx.tar.gz</span></code>, and then</p>
<div class="highlight-bash"><div class="highlight"><pre>tar zxvf mrdiffusion.tar.gz
<span class="nb">cd </span>mrdiffusion
./xxxx <span class="o">(</span>you can run the <span class="nb">command </span>in this way<span class="o">)</span>
</pre></div>
</div>
<p>If you do not want to type the full path every time, you could add the path to the $PATH. Edit the ~/.bashrc file, then add the following line,</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">export</span> <span class="nv">$PATH</span><span class="o">=</span><span class="nv">$PATH</span>:/your/path/to/mrdiffusion
</pre></div>
</div>
<p>To uninstall the software, just manually remove the entire folder where you untar-ed the .tar.gz file.</p>
<p>That’s it! Enjoy the software now!</p>
</div>
</div>
<div class="section" id="key-functions-of-the-software">
<h2>Key functions of the software<a class="headerlink" href="#key-functions-of-the-software" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id26">
<a class="reference internal image-reference" href="_images/overall.png"><img alt="The overall design framework of MR. Diffusion" src="_images/overall.png" style="width: 800px;" /></a>
<p class="caption"><span class="caption-text">Figure 1. The overall design framework of MR. Diffusion.</span></p>
</div>
<div class="figure align-center" id="id27">
<a class="reference internal image-reference" href="_images/mainwindow.png"><img alt="The main window of the software" src="_images/mainwindow.png" style="width: 800px;" /></a>
<p class="caption"><span class="caption-text">Figure 2. The main window of the software.</span></p>
</div>
<p>It should be noteworthy that, for all the computing steps provided in GUI, the called commands with the complete parameter list are displayed in a separate log window. Such a design is special for the users to keep in mind what he/she is doing, and furthermore, it could be directly copied into script (Bash, Python …) for batch processing.
Preprocessing</p>
<div class="figure align-center" id="id28">
<a class="reference internal image-reference" href="_images/preprocessing.png"><img alt="Data preprocessing steps" src="_images/preprocessing.png" style="width: 300px;" /></a>
<p class="caption"><span class="caption-text">Figure 3. Data preprocessing steps, including data format conversion, eddy current correction and brain extraction.</span></p>
</div>
<p>DICOM to NIFTI as unified data format</p>
<p>For saving space of data store, the nii.gz format was used throughout the whole pipeline. Firstly, we use the dcm2nii (by Chris Rorden, <a class="reference external" href="https://www.nitrc.org/projects/dcm2nii">https://www.nitrc.org/projects/dcm2nii</a>) to convert the data into a single 3/4D .nii.gz volume-series file, plus bval and bvec files. The format of bval file is,</p>
<div class="line-block">
<div class="line">0 1500 1500 …… 1500</div>
</div>
<p>and the format of bvec file is,</p>
<div class="line-block">
<div class="line">0  0.99944484233856   0.00215385644697   0.00269041745923 ...</div>
<div class="line">0  -0.0053533311002   0.99836695194244   0.60518479347229 ...</div>
<div class="line">0  0.03288444131613  -0.05708565562963   -0.79608047008514 ...</div>
</div>
<p>where the 0 in the first column indicates the b0 images in the scan and certainly the software also supports multi-b0 images. Since the DICOM formats from different scanner might be different, this function is not always able to successfully extract the bvec/bval files. If you encounter such a problem, please get back to us &lt;link&gt; and give the link of your data if it has big size beyond the email capability.</p>
<div class="highlight-bash"><div class="highlight"><pre>ccm@:bin$ ./dcm2nii -h
Compression will be faster with /usr/local/bin/pigz
Chris Rorden&#39;s dcm2niiX version 24Nov2014
usage: dcm2nii [options] &lt;in_folder&gt;
 Options :
  -h : show help
  -f : filename (%c=comments %f=folder name %p=protocol %i ID of patient %n=name of patient %s=series, %t=time; default &#39;DTI&#39;)
  -o : output directory (omit to save to input folder)
  -z : gz compress images (y/n, default n)
Defaults file : /home/ccm/.dcm2nii.ini
Examples :
 dcm2nii /Users/chris/dir
 dcm2nii -o /users/cr/outdir/ -z y ~/dicomdir
 dcm2nii -f mystudy%s ~/dicomdir
 dcm2nii -o &quot;~/dir with spaces/dir&quot; ~/dicomdir
Example output filename: &#39;/DTI.nii.gz&#39;
</pre></div>
</div>
</div>
<div class="section" id="eddy-and-motion-correction">
<h2>Eddy and motion correction<a class="headerlink" href="#eddy-and-motion-correction" title="Permalink to this headline">¶</a></h2>
<p>During the MRI scanning, many factors can cause magnetic field inhomogeneity, including changing magnetic fields from the imaging gradients and the radiofrequency (RF) coils and yielded biological effects. These effects usually degrade the imaging quality, resulting in artifacts including shearing and blurring (<a class="reference external" href="http://mri-q.com/eddy-current-problems.html">http://mri-q.com/eddy-current-problems.html</a>). Another type of artifacts is caused by head motion. Most of the artifacts described above could be amended by post-processing. In the eddy correction module, we apply a rigid registration method to address most of the shearing and motion artifacts. For the blurring artifacts, it still needs further investigation. Additional solutions would be added to reduce the magnetic field inhomogeneity by field mapping.</p>
<div class="highlight-bash"><div class="highlight"><pre>ccm@:bin<span class="nv">$ </span>./bneddy -h
bneddy: Head Motion Correction.
   -i                                        Input file.
   -o                                        Output file.
   -ref             <span class="m">0</span>                       Indicating which frame is the reference.
</pre></div>
</div>
</div>
<div class="section" id="brain-stripping">
<h2>Brain stripping<a class="headerlink" href="#brain-stripping" title="Permalink to this headline">¶</a></h2>
<p>This module is to strip the brain skull and extract the brain tissue, including gray matter, white matter, cerebrospinal fluid (CSF) and cerebellum. It largely benefits the following processing and analysis, offering better registration/alignment results and reducing computational time by excluding non-brain tissue. Therefore, although this step is not compulsory, we strongly recommend enforcing it. This module is adapted from the FSL/BET functions (<a class="reference external" href="http://fsl.fmrib.ox.ac.uk/fsl/fslwiki/BET">http://fsl.fmrib.ox.ac.uk/fsl/fslwiki/BET</a>) for its excellent efficacy and efficiency.</p>
<div class="highlight-bash"><div class="highlight"><pre>ccm@:bin$ ./bet2 -h
Part of FSL (build 504)
BET (Brain Extraction Tool) v2.1 - FMRIB Analysis Group, Oxford
Usage:
bet2 &lt;input_fileroot&gt; &lt;output_fileroot&gt; [options]
Optional arguments (You may optionally specify one or more of):
       -o,--outline    generate brain surface outline overlaid onto original image
       -m,--mask &lt;m&gt;   generate binary brain mask
       -s,--skull      generate approximate skull image
       -n,--nooutput   don&#39;t generate segmented brain image output
       -f &lt;f&gt;          fractional intensity threshold (0-&gt;1); default=0.5; smaller values give larger brain outline estimates
       -g &lt;g&gt;          vertical gradient in fractional intensity threshold (-1-&gt;1); default=0; positive values give larger brain outline at bottom, smaller at top
       -r,--radius &lt;r&gt; head radius (mm not voxels); initial surface sphere is set to half of this
       -w,--smooth &lt;r&gt; smoothness factor; default=1; values smaller than 1 produce more detailed brain surface, values larger than one produce smoother, less detailed surface
       -c &lt;x y z&gt;      centre-of-gravity (voxels not mm) of initial mesh surface.
       -t,--threshold  -apply thresholding to segmented brain image and mask
       -e,--mesh       generates brain surface as mesh in vtk format
       -v,--verbose    switch on diagnostic messages
       -h,--help       displays this help, then exits
</pre></div>
</div>
</div>
<div class="section" id="reconstruction-of-the-diffusion-model">
<h2>Reconstruction of the diffusion model<a class="headerlink" href="#reconstruction-of-the-diffusion-model" title="Permalink to this headline">¶</a></h2>
<p>The reconstruction for diffusion model within pixels is one of the key topics in diffusion MRI research and it is also one of key modules of the software. At the current stage, we have integrated three modeling methods: one is the traditional Gaussian model (commonly known as DTI, diffusion tensor imaging), and the other two are for high angular resolution diffusion imaging (HARDI). For more detailed information please refer to our review paper [11,13].</p>
<div class="section" id="dti-reconstruction">
<h3>DTI reconstruction<a class="headerlink" href="#dti-reconstruction" title="Permalink to this headline">¶</a></h3>
<p>The classical diffusion gradient sequence used in dMRI is the pulsed gradient spin-echo (PGSE) sequence proposed by Stejskal and Tanner. This sequence has 90o and 180o gradient pulses with duration time δ and separation time Δ. To eliminate the dependence of spin density, we need at least two measurements of diffusion weighted imaging (DWI) signals, i.e. S(b) with the diffusion weighting factor b in Eq. (1) introduced by Le Bihan etc, and S(0) with b = 0 which is the baseline signal without any gradient.</p>
<p>In the b-value in Eq. (1), γ is the proton gyromagnetic ratio,  is the diffusion sensitizing gradient pulse with norm  and direction u.  is normally used to describe the effective diffusion time. Using the PGSE sequence with S(b), the diffusion weighted signal attenuation E(b) is given by Stejskal-Tanner equation,</p>
<p>where D is known as the apparent diffusion coefﬁcient (ADC) which reﬂects the property of surrounding tissues. Note that in general ADC D is also dependent on G in a complex way. However, free diffusion in DTI assumes D is only dependent on the direction of G, i.e. . The early works in dMRI reported that ADC D is dependent on gradient direction u and used two or three DWI images in different directions to detect the properties of tissues. Then Basser et al. introduced diffusion tensor [12] to represent ADC as D(u) = uTDu, where D is called as the diffusion tensor, which is a 3 × 3 symmetric positive deﬁnite matrix independent of u. This method is called as diffusion tensor imaging (DTI) and is the most common method nowadays in dMRI technique. In DTI, the signal E(b) is represented as</p>
<p>Tensor field                      FA map                         MD map                         RGB map</p>
<div class="figure align-center" id="id29">
<a class="reference internal image-reference" href="_images/scalarmaps.png"><img alt="Tensor field and the scalar maps" src="_images/scalarmaps.png" style="width: 800px;" /></a>
<p class="caption"><span class="caption-text">Figure 4. Tensor field and the scalar maps estimated from a monkey data with b = 1500s/mm2.</span></p>
</div>
<p>The diffusion tensor D can be estimated from measured diffusion signal samples  through a simple least square method or weighted least square method [12], or more complex methods that consider positive deﬁnite constraint or Rician noise. If single b-value is used, the optimal b-value for tensor estimation was reported to in the range of (0.7, 1.5) × 10−3 s/mm2, and normally about twenty DWI images are used in DTI in clinical study. ome useful indices can be obtained from tensor D. The most important three indices are fractional anisotropy (FA), mean diffusivity (MD) and relative anisotropy (RA) deﬁned as</p>
<p>&lt;code&gt;
begin{equation}tag{4}
{rm{FA}}=frac{sqrt{3}||{rm{D}}-frac{1}{3}Trace({rm{D}}) I ||}{sqrt{2}||{rm{D}}||}
=sqrt{frac{3}{2}}sqrt{frac{(lambda_1-bar{lambda})^2+(lambda_2-bar{lambda})^2+(lambda_3-bar{lambda})^2}{lambda_{1}^{2}+lambda_{2}^{2}+lambda_{3}^{2}}}
end{equation}</p>
<p>begin{equation}tag{5}
{rm{MD}}=bar{lambda}=frac{1}{3}Trace({rm{D}})=frac{lambda_1+lambda_2+lambda_3}{3}
end{equation}</p>
<p>begin{equation}tag{6}
{rm{RA}}=sqrt{frac{(lambda_1-bar{lambda})^2+(lambda_2-bar{lambda})^2+(lambda_3-bar{lambda})^2}{3bar{lambda}}}
end{equation}
&lt;/code&gt;</p>
<p>where,  are the three eigenvalues of D and  is the mean eigenvalue. MD and FA have been used in many clinical applications. For example, MD is known to be useful in stroke study. For more detailed information please refer to our review paper <a class="footnote-reference" href="#id21" id="id6">[13]</a>.</p>
<div class="highlight-bash"><div class="highlight"><pre>ccm@:bin<span class="nv">$ </span>./bndti_estimate -h
bndti_estimate: Diffusion Tensors Estimation.
MR. Diffusion <span class="o">(</span>v1.0<span class="o">)</span>, http://www.brainnetome.org/en/brat.html.
<span class="o">(</span>Oct  <span class="m">9</span> 2015, 19:26:40<span class="o">)</span>
general arguments
   -d                                Input DWI Data, in NIFTI/Analyze format <span class="o">(</span>4D<span class="o">)</span>
   -g                                Gradients direction file
   -b                                b value file
   -m                                Brain mask : filein mask <span class="p">|</span> OPTIONAL
   -o                                Result DTI : fileout DTI
   -tensor          <span class="m">0</span>                Save tensor : <span class="m">0</span> - No<span class="p">;</span> <span class="m">1</span> - Yes<span class="p">;</span> <span class="o">(</span>Default: 0<span class="o">)</span>
   -eig             <span class="m">0</span>                Save eigenvalues and eigenvectors : <span class="m">0</span> - No<span class="p">;</span> <span class="m">1</span> - Yes<span class="p">;</span> <span class="o">(</span>Default: 0<span class="o">)</span>
</pre></div>
</div>
</div>
<div class="section" id="spfi-reconstruction">
<h3>SPFI reconstruction<a class="headerlink" href="#spfi-reconstruction" title="Permalink to this headline">¶</a></h3>
<p>It was proposed that the SPFI method has more powerful capability to identify the tangling fibers [8]. In SPFI <a class="footnote-reference" href="#id16" id="id7">[8]</a>, the diffusion signal  is represented by spherical polar Fourier (SPF) basis functions in Eq. 7.</p>
<p>The SPF basis denoted by  is a 3D orthonormal basis with spherical harmonics in the spherical portion and the Gaussian-Laguerre function in the radial portion. Furthermore, Cheng and his colleagues proposed a uniform analytical solution to transform the coefficients  of  to the coefficients  of ODF (orientation distribution function) represented by the spherical harmonics basis, as in Eq. 8.</p>
<p>It is a model-free, regularized, fast and robust reconstruction method which can be performed with single-shell or multiple-shell HARDI data to estimate the ODF proposed by Wedeen et al. <a class="footnote-reference" href="#id22" id="id8">[14]</a>. The implementation of analytical SPFI includes two independent steps. The first estimates the coefficients of  with least squares, and the second transforms the coefficients of  to the coefficients of ODF.</p>
<div class="highlight-bash"><div class="highlight"><pre>ccm@:bin<span class="nv">$ </span>bnhardi_ODF_estimate -h
bnhardi_ODF_estimate: Orientation Distribution Function Estimation <span class="o">(</span>SPFI method<span class="o">)</span>.
MR. Diffusion <span class="o">(</span>v1.0<span class="o">)</span>, http://www.brainnetome.org/en/brat.html.
<span class="o">(</span>Jul <span class="m">15</span> 2015, 11:50:20<span class="o">)</span>
  -d                                        dwi data
  -b                                        text file contains b-value
  -g                                        text file contains grad direction
  -m                                        Brain mask.
  -o                                        output odf file
  -scale           -1                       <span class="k">if</span> not given, a suggested scheme is used
  -tau             0.02533                  tar value to calculate the <span class="nb">true </span>pdf.
  -b0_w            <span class="m">1</span>                        b0 weight <span class="k">for</span> the least square estimate
  -b0_analytical   <span class="m">1</span>                        <span class="nb">true</span>: analytical
  -is_assemlal     <span class="nb">true                     true</span>: assemlal basis<span class="p">;</span> <span class="nb">false</span>: cheng basis
  -outGFA          <span class="nb">false                    </span>output GFA: <span class="nb">true </span>or <span class="nb">false</span>
  -rdis            0.015                    r value <span class="k">for</span> pdf.
  -sh              <span class="m">4</span>                        order of spherical harmonics
  -ra              <span class="m">1</span>                        order of radial part
  -lambda_sh       <span class="m">0</span>                        regualrization parameter <span class="k">for</span> sh basis
  -lambda_ra       <span class="m">0</span>                        regualrization parameter <span class="k">for</span> ra basis
</pre></div>
</div>
</div>
<div class="section" id="csd-reconstruction">
<h3>CSD reconstruction<a class="headerlink" href="#csd-reconstruction" title="Permalink to this headline">¶</a></h3>
<p>The CSD method was proposed by Tournier et al. [9], which expresses the diffusion signal as in Eq. 9,</p>
<p>where  is called the fiber orientation density function (fODF), which needs to be estimated, and  is the response function, which is the typical signal generated from one fiber. The response function can be directly estimated from diffusion weighted image (DWI) data by measuring the diffusion profile in the voxels with the highest fractional anisotropy values, indicating that a single coherently oriented fiber population is contained in these voxels. When the response function is obtained, we can utilize the deconvolution of  from  to estimate the fiber ODF. The computation of the fiber ODF was carried out using the software MRtrix (J-D Tournier, Brain Research Institute, Melbourne, Australia, <a class="reference external" href="http://www.brain.org.au/software/">http://www.brain.org.au/software/</a>). We thank Dr. Jacques-Donald Tournier for sharing MATLAB code of the CSD method, which inspired a quick C/C++ implementation.</p>
<div class="highlight-bash"><div class="highlight"><pre>ccm@:bin<span class="nv">$ </span>./bnhardi_FOD_estimate -h
bnhardi_FOD_estimate: Constraind Spherical Deconvolution <span class="o">(</span>CSD<span class="o">)</span> based HARDI reconstruciton.
MR. Diffusion <span class="o">(</span>v1.0<span class="o">)</span>, http://www.brainnetome.org/en/brat.html.
<span class="o">(</span>Jul <span class="m">15</span> 2015, 11:50:20<span class="o">)</span>
general arguments
   -d                                        Input DWI Data, in NIFTI/Analyze format <span class="o">(</span>4D<span class="o">)</span>
   -g                                        Gradients direction file
   -b                                        b value file
   -m                                        Brain mask : filein mask <span class="p">|</span> OPTIONAL
   -outFA           <span class="m">1</span>                        Whether to output the FA of DTI
   -o                                        Result CSD Estimate <span class="o">(</span>.nii.gz<span class="o">)</span>
   -lmax            <span class="m">8</span>                        6/8/10, Max order of the adopted harmonical base
   -fa              <span class="o">[</span>0.75,0.95<span class="o">]</span>              The FA thesshold considered as single fiber
   -erode           -1                       The unit is voxel: Remove the garbage near the boundary of FA image, <span class="k">for</span> better estimating response <span class="k">function</span>
   -nIter           <span class="m">50</span>                       Max iteration number before aborting
   -lambda          <span class="m">1</span>                        The regularization weight <span class="k">for</span> optimization
   -tau             0.1                      The threshold on the FOD amplitude used to identify negative lobes
   -hr             <span class="m">300</span>                      300/1000/5000. The later get more acurate estimation <span class="k">while</span> more <span class="nb">time </span>consuming, so use the first one unless your computer is powerful !
</pre></div>
</div>
</div>
</div>
<div class="section" id="fiber-tracking-and-attributes-extraction">
<h2>Fiber tracking and attributes extraction<a class="headerlink" href="#fiber-tracking-and-attributes-extraction" title="Permalink to this headline">¶</a></h2>
<p>Fiber tracking is a critical way to construct the anatomical connectivity matrix. For the tracking based on tensors from DTI, an intuitive way is to link the neighboring voxels following their main directions (e.g. V1 in the eigenvector of the DTI) given a set of some stop criteria, such as maximum bending angle of the curve and minimum FA value, which is to ensure the target voxel is indeed white matter microstructure. This is the so called deterministic streamline tractography [15], as illustrated in Figure 5.</p>
<div class="figure align-center" id="id30">
<a class="reference internal image-reference" href="_images/tractography.png"><img alt="Illustration for deterministic streamline tractography" src="_images/tractography.png" style="width: 800px;" /></a>
<p class="caption"><span class="caption-text">Figure 5. Illustration for deterministic streamline tractography.</span></p>
</div>
<div class="highlight-bash"><div class="highlight"><pre>ccm@:bin<span class="nv">$ </span>./bndti_tracking -h
bndti_tracking: DTI Deterministic Fibertracking.
MR. Diffusion <span class="o">(</span>v1.0<span class="o">)</span>, http://www.brainnetome.org/en/brat.html.
<span class="o">(</span>Oct  <span class="m">9</span> 2015, 19:26:46<span class="o">)</span>
   -d                                        Input DTI data.
   -m                                        Mask Image.
   -s                                        Seeds Image.
   -fa                                       FA Image.
   -ft              0.1                      FA Threshold
   -at              <span class="m">45</span>                       Angular Threshold.
   -sl              0.5                      Step Length <span class="o">(</span>Voxel<span class="o">)</span>.
   -min             <span class="m">10</span>                       Threshold the fiber <span class="o">(</span>mm<span class="o">)</span>. <span class="o">(</span>remove fibers shorter than the number<span class="o">)</span>
   -max             <span class="m">5000</span>                     Upper-threshold the fiber <span class="o">(</span>mm<span class="o">)</span>. <span class="o">(</span>remove fibers longer than the number<span class="o">)</span>
   -o                                        Output Fibers Filename <span class="o">(</span>.fiber file<span class="o">)</span>.
</pre></div>
</div>
<p>The tracking module in the software for HARDI estimation is similar to the streamline method as described above. It should be kept in mind that, for HARDI estimation, usually there are more than one main direction (which is what we desired since it possibly identifies tangling fibers), so we should consider these kissing/branching cases. Meanwhile, since there is no explicit dominant directions for each voxel, searching algorithm should be applied to locate the main directions. The searching should run for each voxel, so it is not as fast as the traditional DTI tracking.</p>
<div class="highlight-bash"><div class="highlight"><pre>ccm@:bin<span class="nv">$ </span>./bnhardi_tracking -h
bnhardi_tracking: HARDI Deterministic Fibertracking.
Mr. Diffusion <span class="o">(</span>v1.0<span class="o">)</span>, http://www.brainnetome.org/en/brat.html.
<span class="o">(</span>Oct  <span class="m">9</span> 2015, 19:26:46<span class="o">)</span>
   -d                                        HARDI spherical harmonic image.
   -a                                        Anisotropy image.
   -m                                        Mask file.
   -s                                        Seeds file.
   -o                                        Fiber file <span class="o">(</span>.fiber file<span class="o">)</span>.
   -sl              0.5                      Step length <span class="o">(</span>Voxel<span class="o">)</span>: float
   -ft              0.1                      FA threshold: float
   -at              <span class="m">75</span>                       Angle threshold: float
   -min             <span class="m">10</span>                       Threshold the fiber <span class="o">(</span>mm<span class="o">)</span>. <span class="o">(</span>remove fibers shorter than the number<span class="o">)</span>
   -max             <span class="m">5000</span>                    Upper-threshold the fiber <span class="o">(</span>mm<span class="o">)</span>. <span class="o">(</span>remove fibers longer than the number<span class="o">)</span>
</pre></div>
</div>
</div>
<div class="section" id="visualization-for-various-images">
<h2>Visualization for various images<a class="headerlink" href="#visualization-for-various-images" title="Permalink to this headline">¶</a></h2>
<p>The software provides a variety of entries for visualizing different data types, including 3D/4D image, Tensor/ODF/FOD image and white mater fibers. The views of different data could be superimposed for a precise anatomical localization. It should be noted that, if one uses the GUI, these view functions could be called in each processing steps for inspecting the results.</p>
<p>Figure 6. Illustrations for the capability of the software to show many types of images.</p>
<div class="highlight-bash"><div class="highlight"><pre>ccm@:bin<span class="nv">$ </span>./bnviewer -h
This program is the GUI frontend that displays and performs data reconstruction and fiber tracking on diffusion MR images, which have been developed by the teams of Brainnetome Center, CASIA.
basic usage:
  bnviewer <span class="o">[[</span>-volume<span class="o">]</span> DTI_FA.nii.gz<span class="o">]</span>
           <span class="o">[</span>-roi ROI/roi_cc_top.nii.gz<span class="o">]</span>
           <span class="o">[</span>-fiber ROI/roi_cc_top.fiber<span class="o">]</span>
           <span class="o">[</span>-tensor DTI.nii.gz<span class="o">]</span>/<span class="o">[</span>-odf HARDI.nii.gz<span class="o">]</span>
           <span class="o">[</span>-atlas DTI.nii.gz<span class="o">]</span>
options:
  -help                  show this <span class="nb">help</span>
  -volume  .nii.gz       <span class="nb">set </span>input background data
  -roi     .nii.gz       <span class="nb">set </span>input ROI data
  -fiber   .fiber/.trk   <span class="nb">set </span>input fiber data
  -tensor  .nii.gz       <span class="nb">set </span>input DTI data <span class="o">(</span>conflict with -odf args<span class="o">)</span>
  -odf     .nii.gz       <span class="nb">set </span>input ODF/FOD data <span class="o">(</span>conflict with -tensor args<span class="o">)</span>
</pre></div>
</div>
</div>
<div class="section" id="several-useful-tools">
<h2>Several useful tools<a class="headerlink" href="#several-useful-tools" title="Permalink to this headline">¶</a></h2>
<div class="section" id="image-registration">
<h3>Image registration<a class="headerlink" href="#image-registration" title="Permalink to this headline">¶</a></h3>
<p>This module is implemented by elastix [10], which integrates a collection of functions from ITK [1]. In our software, the registration module is customized to auto-configure the parameter settings between different image modalities, e.g., two DWI images (for eddy current correction in current version), standard space and T1 space (for mapping ROIs to the individual space), DWI space and standard space (for statistical comparisons across subjects). This module contains two separate submodules, &lt;code&gt;elastix&lt;/code&gt; for computing the transform matrix and &lt;code&gt;transformix&lt;/code&gt; for applying the existing transform matrix to an image.</p>
<div class="highlight-bash"><div class="highlight"><pre>ccm@:bin<span class="nv">$ </span>./elastix -h
elastix version: 4.700
elastix registers a moving image to a fixed image.
The registration-process is specified in the parameter file.
 --help, -h displays this message and <span class="nb">exit</span>
 --version  output version information and <span class="nb">exit</span>
Call elastix from the <span class="nb">command </span>line with mandatory arguments:
 -f        fixed image
 -m        moving image
 -out      output directory
 -p        parameter file, elastix handles <span class="m">1</span> or more <span class="s2">&quot;-p&quot;</span>
Optional extra commands:
 -fMask    mask <span class="k">for</span> fixed image
 -mMask    mask <span class="k">for</span> moving image
 -t0       parameter file <span class="k">for</span> initial transform
 -priority <span class="nb">set </span>the process priority to high, abovenormal, normal <span class="o">(</span>default<span class="o">)</span>,
           belownormal, or idle <span class="o">(</span>Windows only option<span class="o">)</span>
 -threads  <span class="nb">set </span>the maximum number of threads of elastix
</pre></div>
</div>
<p>The parameter-file must contain all the information necessary for elastix to runproperly. That includes which metric to use, which optimizer, which transform, etc. It must also contain information specific for the metric, optimizer, transform, etc. For a usable parameter-file, see the website.</p>
<div class="section" id="need-further-help">
<h4>Need further help?<a class="headerlink" href="#need-further-help" title="Permalink to this headline">¶</a></h4>
<p>Check the website <a class="reference external" href="http://elastix.isi.uu.nl">http://elastix.isi.uu.nl</a>, or mail <a class="reference external" href="mailto:elastix&#37;&#52;&#48;bigr&#46;nl">elastix<span>&#64;</span>bigr<span>&#46;</span>nl</a>.</p>
<div class="highlight-bash"><div class="highlight"><pre>ccm@:bin<span class="nv">$ </span>./transformix -h
transformix version: 4.700
transformix applies a transform on an input image and/or generates a deformation field.
The transform is specified in the transform-parameter file.
 --help, -h displays this message and <span class="nb">exit</span>
 --version  output version information and <span class="nb">exit</span>
Call transformix from the <span class="nb">command </span>line with mandatory arguments:
 -out      output directory
 -tp       transform-parameter file, only 1
Optional extra commands:
 -in       input image to deform
 -def      file containing input-image points<span class="p">;</span> the point are transformed
           according to the specified transform-parameter file
           use <span class="s2">&quot;-def all&quot;</span> to transform all points from the input-image, which
           effectively generates a deformation field.
 -jac      use <span class="s2">&quot;-jac all&quot;</span> to generate an image with the determinant of the
           spatial Jacobian
 -jacmat   use <span class="s2">&quot;-jacmat all&quot;</span> to generate an image with the spatial Jacobian
           matrix at each voxel
 -priority <span class="nb">set </span>the process priority to high, abovenormal, normal <span class="o">(</span>default<span class="o">)</span>,
           belownormal, or idle <span class="o">(</span>Windows only option<span class="o">)</span>
 -threads  <span class="nb">set </span>the maximum number of threads of transformix
</pre></div>
</div>
<p>At least one of the options &#8220;-in&#8221;, &#8220;-def&#8221;, &#8220;-jac&#8221;, or &#8220;-jacmat&#8221; should be given.</p>
<p>The transform-parameter file must contain all the information necessary for transformix to run properly. That includes which transform to use, with which parameters, etc. For a usable transform-parameter file, run elastix, and inspect the output file &#8220;TransformParameters.0.txt&#8221;.</p>
</div>
</div>
<div class="section" id="image-calculation-and-roi-generation">
<h3>Image calculation and ROI generation<a class="headerlink" href="#image-calculation-and-roi-generation" title="Permalink to this headline">¶</a></h3>
<p>The module bncalc provides simple image calculations, such as add/minus/multiply/divide operations. Meanwhile, it can also generate user-defined ROIs given the origin and radius in a user-specified image space.</p>
<div class="highlight-bash"><div class="highlight"><pre>ccm@:bin<span class="nv">$ </span>./bncalc -h
Mr. Diffusion <span class="o">(</span>v1.0<span class="o">)</span>, http://www.brainnetome.org/en/brat.html.
This funciton provide basic process <span class="k">for</span> the input data <span class="o">(</span>NIFTI/Analyze format<span class="o">)</span>
Usage of bncalc:
   -i       image         The original file you want to manage.
   -add     image/value   Add to the data from the last step.
   -sub     image/value   Subtract data from the last step.
   -mul     image/value   Multiply the data from the last step.
   -div     image/value   Divide the data from the last step.
   -roi     x,y,z,r       Generate a ROI centered at <span class="o">[</span>x,y,z<span class="o">](</span>MNI mm<span class="o">)</span> with radius r,
                          in the input data space.
   -mask    image         Mask the data from last step by this input one.
                          If this input is a binary, <span class="k">then</span> it is the same as
                          -mul, otherwise it keep the voxels from the last step
                          when the new input is nonzero.
   -bin     value         <span class="nb">set </span><span class="m">1</span> <span class="k">if</span> &gt;value, otherwise 0.
   -uthr    value         Set <span class="nv">voxel</span><span class="o">=</span><span class="m">0</span> when it&gt;<span class="o">=</span>value.
   -dthr    value         Set <span class="nv">voxel</span><span class="o">=</span><span class="m">0</span> when it&lt;<span class="o">=</span>value.
   -o       image         output a NIFTI <span class="o">(</span>.nii.gz<span class="o">)</span> file
</pre></div>
</div>
</div>
<div class="section" id="fiber-manipulation">
<h3>Fiber manipulation<a class="headerlink" href="#fiber-manipulation" title="Permalink to this headline">¶</a></h3>
<p>After obtaining a large bundle of white matter fibers, you may want to prune the fibers that go through specified locations (ROIs). Here, we provide several tools to manipulate the fiber bundles.
bnfiber_manipulate, to split/merge fiber bundles based on given ROIs.</p>
<div class="highlight-bash"><div class="highlight"><pre>bnfiber_manipulate: Merge or prune fiber bundles based on given ROIs.
Mr. Diffusion <span class="o">(</span>v1.0<span class="o">)</span>, http://www.brainnetome.org/en/brat.html.
<span class="o">(</span>Sep <span class="m">17</span> 2015, 14:47:12<span class="o">)</span>
   -fiber                                    fiber file
   -and                                      AND file: ro1.nii.gz,roi2.nii.gz
   -or                                       OR file: roi1.nii.gz,roi2.nii.gz
   -not                                      NOT file: ro1.nii.gz,roi2.nii.gz
   -o                                        Output file <span class="o">(</span>.fiber file<span class="o">)</span>.
</pre></div>
</div>
<p>bnfiber_end, to cut the fiber bundles given start/stop ROIs, which is useful to get the exact connections between two ROIs in constructing connectivity matrix.</p>
<div class="highlight-bash"><div class="highlight"><pre>ccm@:bin<span class="nv">$ </span>./bnfiber_end -h
bnfiber_end: Extract fibers which end in the two given rois.Mr. Diffusion <span class="o">(</span>v1.0<span class="o">)</span>, http://www.brainnetome.org/en/brat.html.
<span class="o">(</span>Sep <span class="m">17</span> 2015, 14:47:12<span class="o">)</span>
   -fiber                                    fiber file
   -roi1                                     roi1 file
   -roi2                                     roi2 file
   -o                                        Output file <span class="o">(</span>.fiber file<span class="o">)</span>
</pre></div>
</div>
<p>bnfiber_stats, to extract statistical properties of the fiber bundle, such as mean FA/MD and fiber numbers.</p>
<div class="highlight-bash"><div class="highlight"><pre>ccm@:bin<span class="nv">$ </span>./bnfiber_stats -h
bnfiber_stats: Show fiber stats.
Mr. Diffusion <span class="o">(</span>v1.0<span class="o">)</span>, http://www.brainnetome.org/en/brat.html.
<span class="o">(</span>Sep <span class="m">17</span> 2015, 14:47:12<span class="o">)</span>
   -fiber                                    Input fiber file, <span class="k">then</span> output mean FA/MD, number of fibers et al.
</pre></div>
</div>
<p>bnfiber_map, to compute the fiber density map which is used in track density imaging [16].</p>
<div class="highlight-bash"><div class="highlight"><pre>ccm@:bin<span class="nv">$ </span>./bnfiber_map -h
bnfiber_map: Calculate the fiber density according to the reference volume.
Mr. Diffusion <span class="o">(</span>v1.0<span class="o">)</span>, http://www.brainnetome.org/en/brat.html.
<span class="o">(</span>Sep <span class="m">17</span> 2015, 14:47:13<span class="o">)</span>
   -fiber                                    Fiber file
   -ref                                      Reference file <span class="o">(</span>NIfTI<span class="o">)</span>
   -o                                        Output file <span class="o">(</span>NIfTI<span class="o">)</span>.
   -nor             <span class="m">1</span>                        Normalize fiber density: 1<span class="o">(</span>yes<span class="o">)</span> or 0<span class="o">(</span>no<span class="o">)</span>.
</pre></div>
</div>
<p>bnmerge/bnsplit, to merge the 3D volumes to 4D or split 4D to 3D volumes.</p>
<div class="highlight-bash"><div class="highlight"><pre>ccm@:bin<span class="nv">$ </span>./bnmerge -h
bnmerge: Merge 3D NIfTI files  to 4D NIfTI file.
   This program is to merge 3D NIfTI files to 4D NIfTI file.
   Usage: bnmerge filein1 filein2 ... fileout
   options:     -h           : show this <span class="nb">help</span>
</pre></div>
</div>
<div class="highlight-bash"><div class="highlight"><pre>ccm@:bin<span class="nv">$ </span>./bnsplit -h
bnsplit: Split 4D volume to 3D volumes.
   This program splits 4D volume to 3D volumes.
   basic usage: split -i FILE_IN -o FILE_OUT prefix
   options:     -h           : show this <span class="nb">help</span>
                -v LEVEL     : the verbose level to LEVEL
</pre></div>
</div>
<p>bninfo, to display a short head information of the input image. Supported input image format includes NIFTI/DICOM.</p>
<div class="highlight-bash"><div class="highlight"><pre>ccm@:DWI<span class="nv">$ </span>bninfo -h
bninfo: Show file header information.
Mr. Diffusion <span class="o">(</span>v1.0<span class="o">)</span>, http://www.brainnetome.org/en/brat.html.
<span class="o">(</span>Jul <span class="m">15</span> 2015, 11:50:01<span class="o">)</span>
   -i                                        Nifti/ANALYZE/DICOM file.
</pre></div>
</div>
</div>
</div>
<div class="section" id="data-format">
<h2>Data format<a class="headerlink" href="#data-format" title="Permalink to this headline">¶</a></h2>
<div class="section" id="input">
<h3>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h3>
<p>Since we apply the dcm2nii to unify the format of input data, it can support most types of DICOM files (in folders). Please refer to the author’s webpage for more information [4] . Please also get back to us if you encounter any problems.</p>
</div>
<div class="section" id="output">
<h3>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h3>
<p>All the intermediate files are in compressed NIFTI format (.nii.gz). The final track file is in .fiber/.fbr or .trk format, where the former is a short version of the later one. The .trk format is from the TrackVis [17].</p>
<p>The .fiber format is as following,</p>
<div class="line-block">
<div class="line">Brainnetome fiber tracking</div>
<div class="line">Version 1</div>
<div class="line">Number_Fiber 235</div>
<div class="line">Mean_Length(mm) 150</div>
<div class="line">Volume_Total(mm^3)  37020</div>
<div class="line">Mean_FA  0.6</div>
<div class="line">Mean_MD  0.07</div>
<div class="line">80 101.378 0.5 0.1</div>
<div class="line">110.758 148.574 124.982 0.166754 0.3</div>
<div class="line">111.253 148.68 123.688 0.198468 0.25</div>
</div>
<p>The first and second line indicates who produces the file and the version of the file format, and line 3 to line 7 characterize several main attributes of this fiber bundle. From line 8, fiber-wise node descriptions are presented; for example, for one fiber on line 8, [80 101.378 0.5 0.1] corresponds to the total number of nodes, length, mean FA and mean MD of this fiber. Starting from line 9, properties of each node of the fiber are described, e.g., [110.758 148.574 124.982 0.166754 0.3] denote x-, y- and z-coordinate, FA and MD of this node.</p>
</div>
</div>
<div class="section" id="to-do-list">
<h2>TO-DO list<a class="headerlink" href="#to-do-list" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ol class="arabic simple">
<li>To smooth the ODF/FOD/EAP for a smoother tract;</li>
<li>To add more efficient tracking algorithms;</li>
<li>To optimize the 3D rendering function;</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="suggestions-feedback">
<h2>Suggestions/Feedback<a class="headerlink" href="#suggestions-feedback" title="Permalink to this headline">¶</a></h2>
<p>If you encounter any problems or have any suggestions, please feel free to get back to us, <a class="reference external" href="mailto:mr&#46;diffusion&#37;&#52;&#48;nlpr&#46;ia&#46;ac&#46;cn">mr<span>&#46;</span>diffusion<span>&#64;</span>nlpr<span>&#46;</span>ia<span>&#46;</span>ac<span>&#46;</span>cn</a> .</p>
</div>
<div class="section" id="reference">
<h2>Reference<a class="headerlink" href="#reference" title="Permalink to this headline">¶</a></h2>
<table class="docutils footnote" frame="void" id="id9" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><a class="reference external" href="http://www.itk.org">http://www.itk.org</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id10" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td><a class="reference external" href="http://www.vtk.org">http://www.vtk.org</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id11" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[3]</a></td><td><a class="reference external" href="http://www.cmake.org">http://www.cmake.org</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id12" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[4]</a></td><td><a class="reference external" href="http://www.mccauslandcenter.sc.edu/mricro">http://www.mccauslandcenter.sc.edu/mricro</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id13" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[5]</a></td><td><a class="reference external" href="http://www.nitrc.org/projects/mrtrix">http://www.nitrc.org/projects/mrtrix</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id14" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[6]</td><td><a class="reference external" href="https://github.com/dgobbi/AIRS">https://github.com/dgobbi/AIRS</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id15" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[7]</td><td>Smith SM. Fast robust automated brain extraction. Human Brain Mapping, 17(3):143-155, 2002.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id16" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id7">[8]</a></td><td>Cheng J, Jiang T, Deriche R. Nonnegative definite EAP and ODF estimation via a unified multi-shell HARDI reconstruction. Med Image Comput Comput Assist Interv., 15(Pt 2):313-21, 2012.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id17" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[9]</td><td>Tournier JD, Calamante F, Connelly A. Robust determination of the fibre orientation distribution in diffusion MRI: non-negativity constrained super-resolved spherical deconvolution. Neuroimage, 35 (4): 1459-1472, 2007.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id18" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[10]</td><td><a class="reference external" href="http://elastix.isi.uu.nl/">http://elastix.isi.uu.nl/</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id19" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[11]</td><td>Xie S., Zuo N., Shang L., Song M., Fan L., Jiang T., 2015. How does B-value affect HARDI reconstruction using clinical diffusion MRI data? PLoS One 10, e0120773.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id20" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[12]</td><td>Basser P.J., Mattiello J., LeBihan D., MR diffusion tensor spectroscopy and imaging. Biophysical journal, 1994. 66, 259-267.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id21" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[13]</a></td><td>Zuo N., Cheng J., Jiang T., 2012. Diffusion magnetic resonance imaging for Brainnetome: A critical review, Neuroscience bulletin, DOI: 10.1007/s12264-012-1245-3.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id22" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id8">[14]</a></td><td>Wedeen V.J., Hagmann P., Tseng W.Y., Reese T.G., Weisskoff R.M., 2005. Mapping complex tissue architecture with diffusion spectrum magnetic resonance imaging. Magn Reson Med, 54(6):1377-1386.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id23" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[15]</td><td>Alexander, A.L., Lee, J.E., Lazar, M., Field, A.S., 2007. Diffusion tensor imaging of the brain. Neurotherapeutics 4, 316-329.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id24" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[16]</td><td>Calamante F., Tournier J.D., Heidemann R.M., Anwander A., Jackson G.D., Connelly A., 2011. Track density imaging (TDI): validation of super resolution property. Neuroimage, 56, 1259-66.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id25" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[17]</td><td><a class="reference external" href="http://trackvis.org">http://trackvis.org</a></td></tr>
</tbody>
</table>
</div>
<div class="section" id="indices-and-tables">
<h2>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="genindex.html"><span>Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span>Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span>Search Page</span></a></li>
</ul>
</div></blockquote>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tutorial.html" class="btn btn-neutral float-right" title="Tutorial" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Welcome to MR.Diffusion’s documentation!" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Sangma Xie, Liangfu Chen, Nianming Zuo, Tianzi Jiang.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>